function changeOverview(e){document.getElementById("avg-scores-label").classList.remove("active-view"),document.getElementById("avg-scores-body").style.display="none",document.getElementById("total-scores-label").classList.remove("active-view"),document.getElementById("total-scores-body").style.display="none",e?(document.getElementById("avg-scores-label").classList.add("active-view"),document.getElementById("avg-scores-body").style.display=""):(document.getElementById("total-scores-label").classList.add("active-view"),document.getElementById("total-scores-body").style.display=""),view=e,changeView(),updateRange()}function changeView(e="h"){for(scoreGraph(view,e),updatePar(e),updateConsistancy(e),$l=0;$l<2;$l++){var a=document.getElementsByClassName("score-table")[$l].getElementsByTagName("tr");for($i=0;$i<a.length;$i++){for(a[$i].style.borderWidth="0px",$j=0;$j<a[$i].getElementsByTagName("td").length;$j++)a[$i].getElementsByTagName("td")[$j].style.borderColor="#dee2e6",a[$i].getElementsByTagName("td")[$j].style.borderWidth="1px";for($j=0;$j<a[$i].getElementsByTagName("th").length;$j++)a[$i].getElementsByTagName("th")[$j].style.borderColor="#dee2e6",a[$i].getElementsByTagName("th")[$j].style.borderWidth="1px"}if("h"!==e){for($i=1;$i<a.length;$i++)a[$i].getElementsByTagName("td")[e+1].style.borderLeft="2px solid "+borderColor,a[$i].getElementsByTagName("td")[e+1].style.borderRight="2px solid "+borderColor;a[0].getElementsByTagName("th")[e+1].style.borderLeft="2px solid "+borderColor,a[0].getElementsByTagName("th")[e+1].style.borderRight="2px solid "+borderColor}}}function scoreGraph(e,a){var t=[],o=[],r=12,s=0;if(Object.entries(data[e]).forEach(e=>{const[l,n]=e;"h"!=a?(t.push(n[a]),n[a]<r&&(r=n[a]),n[a]>s&&(s=n[a])):(t.push({label:l,lineTension:.1,backgroundColor:"rgba("+nameToColor[l]+",0)",borderColor:"rgba("+nameToColor[l]+",0.6)",pointRadius:0,pointBackgroundColor:"rgba("+nameToColor[l]+",1)",pointBorderColor:"rgba("+nameToColor[l]+",0.8)",pointHoverRadius:5,pointHoverBackgroundColor:"rgba("+nameToColor[l]+",1)",pointHitRadius:50,pointBorderWidth:2,data:n}),Math.min.apply(null,n)<r&&(r=Math.min.apply(null,n)),Math.max.apply(null,n)>s&&(s=Math.max.apply(null,n))),o.push(l)}),"h"===a)for(o=[],i=0;i<Object.keys(data[e][Object.keys(data[e])[0]]).length;i++)o.push(i+1);open_chart&&sGraph.destroy(),sGraph="h"===a?new Chart(document.getElementById("scoreChart"),{type:"line",data:{labels:o,datasets:t},options:{scales:{xAxes:[{time:{unit:"date"},gridLines:{display:!1},ticks:{maxTicksLimit:12}}],yAxes:[{ticks:{min:r-1,max:s+1,maxTicksLimit:5},gridLines:{color:"rgba(0, 0, 0, .125)"}}]},legend:{display:!1}}}):new Chart(document.getElementById("scoreChart"),{type:"horizontalBar",data:{labels:o,datasets:[{label:"score",backgroundColor:colarr,borderColor:colarr,data:t}]},options:{scales:{xAxes:[{gridLines:{display:!1},ticks:{min:r-1,max:s+1,maxTicksLimit:5}}],yAxes:[{time:{unit:"Score"},gridLines:{display:!0}}]},legend:{display:!1}}})}function updatePar(e="h"){var a=[],t=[],o=[],r=[];Object.entries(par_accuracy).forEach(s=>{const[l,n]=s;r.push(l),"h"==e?(a.push(n.total[0]),t.push(n.total[1]),o.push(n.total[2])):(a.push(n.hole[e][0]),t.push(n.hole[e][1]),o.push(n.hole[e][2]))}),open_chart&&updateParchaty.destroy(),updateParchaty=new Chart(document.getElementById("parPercentChart"),{type:"bar",data:{labels:r,datasets:[{label:"Under",backgroundColor:"rgba(40, 167, 69,0.8)",borderColor:"rgba(40, 167, 69,0.8)",data:a},{label:"Par",backgroundColor:"rgba(0, 123, 255,0.8)",borderColor:"rgba(0, 123, 255,0.8)",data:t},{label:"Over",backgroundColor:"rgba(220, 53, 69,0.8)",borderColor:"rgba(220, 53, 69,0.8)",data:o}]},options:{scales:{xAxes:[{time:{unit:"month"},gridLines:{display:!1},ticks:{maxTicksLimit:6}}],yAxes:[{ticks:{min:0,max:100,maxTicksLimit:5},gridLines:{display:!0}}]},legend:{display:!1}}})}function updateConsistancy(e){var a=[],t=[],o=0;Object.entries(consistancy_data).forEach(r=>{const[s,l]=r;o="h"==e?l.total:l.hole[e],t.push(s),a.push(o[1])}),open_chart&&updateConsistancychaty.destroy(),updateConsistancychaty=new Chart(document.getElementById("consistancyGraph"),{type:"bar",data:{labels:t,datasets:[{label:"consistancy %",backgroundColor:colarr,borderColor:colarr,data:a}]},options:{scales:{xAxes:[{time:{unit:"score"},gridLines:{display:!1},ticks:{maxTicksLimit:6}}],yAxes:[{ticks:{min:0,max:100,maxTicksLimit:5},gridLines:{display:!0}}]},legend:{display:!1}}})}function updateRange(){var e=[],a=999,t=0,o=[];Object.entries(range_data).forEach(r=>{const[s,l]=r;o=[];var n=[],i=view?l.avg:l.total;Object.entries(i).forEach(e=>{var[a,t]=e;o.push(a),n.push(t)}),Math.min.apply(null,n)<a&&(a=Math.min.apply(null,n)),Math.max.apply(null,n)>t&&(t=Math.max.apply(null,n)),e.push({label:s,lineTension:.5,backgroundColor:"rgba("+nameToColor[s]+",0)",borderColor:"rgba("+nameToColor[s]+",0.6)",pointRadius:0,pointBackgroundColor:"rgba("+nameToColor[s]+",1)",pointBorderColor:"rgba("+nameToColor[s]+",0.8)",pointHoverRadius:5,pointHoverBackgroundColor:"rgba("+nameToColor[s]+",1)",pointHitRadius:50,pointBorderWidth:2,data:n})}),open_chart&&rGraph.destroy(),rGraph=new Chart(document.getElementById("rangeGraph"),{type:"line",data:{labels:o,datasets:e},options:{scales:{xAxes:[{time:{unit:"date"},gridLines:{display:!1},ticks:{maxTicksLimit:12}}],yAxes:[{ticks:{min:a-1,max:t+1,maxTicksLimit:5},gridLines:{color:"rgba(0, 0, 0, .125)"}}]},legend:{display:!1}}})}var chat_update=0,view=0,updateParchaty=null,updateConsistancychaty=null,colors=["255,107,107","0,41,83","199,244,100","149,212,243","241,187,27","127,0,255"],nameToColor={},colarr=[],i=0;Object.entries(scores).forEach(e=>{const[a,t]=e;nameToColor[a]=colors[i],colarr.push("rgba("+colors[i]+",0.5)"),i++});var dt=document.getElementsByClassName("score-table")[0].getElementsByTagName("tr");const borderColor="rgba(171, 217, 91,1)";var sGraph=null,adata={},tdata={},c=0,j=0;Object.entries(scores).forEach(e=>{const[a,t]=e;tdata[a]=[],adata[a]=[],Object.entries(t).forEach(e=>{const[t,o]=e;for(j=0;j<o.length;j++)tdata[a][j]=void 0!==tdata[a][j]?tdata[a][j]+o[j]:o[j]}),Object.entries(tdata[a]).forEach(e=>{const[t,o]=e;adata[a][t]=o/Object.keys(scores[a]).length})});var data=[tdata,adata];changeOverview(0);var open_chart=1;